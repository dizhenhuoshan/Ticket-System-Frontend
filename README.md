# DS2018-frontend-demo
Demo frontend for course project of Data Structure 2018 @ ACM Class 2017

[在线 Demo](http://123.206.182.24:2018)

## 前端示例

### 说明

本仓库是铁路票务系统大作业的前端示例，使用 Python Web 框架 Flask 实现了一个简单的 Web 应用（只演示了注册用户、登录、查询用户个人信息、修改用户信息等部分操作）。
其中后端数据库程序使用本次大作业的[后端标程](https://github.com/kzoacn/DS2018)。

### 使用

本项目使用 Python3，首先需要在 Python3 中安装 Flask 库：

```
sudo pip install Flask
```

此外还需要一个可以运行的后端标程，请参考后端标程的[编译说明](https://github.com/kzoacn/DS2018)编译后，
将 `ds2018.py` 中的 `database_exec_path` 设置为编译后的后端程序可执行文件路径。

将 `ds2018.py` 中的 `app.secret_key` 设置为任意长度大于 20 的随机字符串。

使用下面的命令即可运行一个调试服务器，可以在本地访问 [http://127.0.0.1:5000/](http://127.0.0.1:5000/) 查看网站效果。

```
python3 ds2018.py
```

注意这样直接运行 `ds2018.py` 文件开启的是调试服务器，要将 Flask 应用部署到实际生产环境中，可以参考 Flask 官方文档中的对应部分内容。

### 相关实现

此前端示例主要为了展示，在本大作业项目中：

- 如何实现 Web 应用作为前端（可能是最简便的一种前端形式）
- 前端如何与后端数据库程序进行交互
- 在 Web 应用中使用 session 机制同时维护与多个用户的通信

目前有不少同学对于 Web 服务器端程序调用数据库后端的形式、session 的使用等实现细节有一些疑惑，可以学习一下 Flask 官方文档中 session 部分的说明，
并参考本示例中的代码 `ds2018.py`。关于前端如有其他的疑惑也可以咨询助教。
在本示例中，在 Flask 应用开始运行时，开启一个子进程调用后端数据库程序 `train`，并在此后使用子进程库的管道工具与 `train` 进行通信，
详情请参见 `ds2018.py` 中的代码。

可以参考的资料：

- [Flask 官方文档](http://flask.pocoo.org/)
- 此前习题课简介 Python Web 应用开发的 [slides 及代码](https://github.com/sjtug/sharing/tree/master/2018-03-10/introduction-to-web-application-development-with-python-ZhouFan)

## 关于铁路票务系统大作业前端的答疑

### 前端的要求

大作业要求前后端实现分离，这里的“后端”指的是用于性能评测的数据库部分，而“前端”指的是除数据库部分以外的其他部分。
特别地，运行在服务器上的一部分程序，例如 Web 应用的服务端程序，尽管运行在服务器上，在这里也属于“大作业前端”的部分。
前后端两部分应是相互独立的两个程序，它们可以以任意方式进行通信。对于用户而言，后端是不可见的。
用户与前端交互，进行注册、登录、查询、购票等操作，前端收到用户的请求后向后端发送相应的命令，并将后端返回的信息按照正确的方式呈现给用户。

### 可选的实现形式

前端有多种可以选择的形式：

- **实现 PC 平台的 GUI 前端，后端部署在服务器上**：使用网络与部署在服务器上的后端程序通信，这样你的前端需要有两部分内容，
一部分是运行在用户 PC 上的客户端程序（如果使用 C++ 开发，可以使用 Qt 等 GUI 框架），另一部分是运行在服务器上的服务器端程序，服务器端程序负责接收客户端通过网络发送的信息，
并相应调用后端数据库程序。关于客户端与服务器端之间的通信，可以使用 socket、RPC 等模式，可以搜索一下你选择的编程语言的相关教程。
- **实现移动设备的 App**：与实现 PC 平台的 GUI 前端类似，同样需要有客户端（即移动设备）和服务器端两部分程序。
- **实现 Web 应用作为前端**: 主要需要设计网页前端部分（涉及技能：HTML/CSS/JavaScript），以及需要写服务器端程序。
与实现 PC 平台的 GUI 前端相比，Web 应用的客户端实际上就是用户的浏览器，不需要自己写客户端程序，而且客户端与服务器端的通信是通过 
TCP 协议完成，比 socket 编程简单很多，因此 Web 可能是最容易实现的一种前端形式。
- **在本地运行的 GUI 前端**：前面列举的几种方式均将后端程序部署在服务器上，如果不太能够实现网络通信，仅实现一个在本地运行的前端也是可以的。
即：前端 GUI 程序与后端数据库程序都运行在本机，通过任意方式进行交互（比如管道）。这样没有了网络通信的部分，实现的难度也相应降低。

### 其他问题

如有关于此前端示例的问题，欢迎向我提问。关于大作业前端如有其他任何疑问，也可向我或其他助教咨询。
